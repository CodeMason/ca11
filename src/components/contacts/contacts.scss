@import 'ca11/lib/mixins';
@import 'ca11/lib/variables';

.component-contacts {
    .item-list {
        display: flex;
        flex-flow: row wrap;
        flex-wrap: wrap;

        .contact {
            &.selected {
                box-shadow: 0 0 5px rgba($grey-color-darkest, 0.5);
            }
        }

        .item {
            align-items: center;
            display: flex;
            justify-content: space-between;
            position: relative;

            &:hover {
                cursor: pointer !important;
            }

            .avatar-state {
                align-items: center;
                display: flex;
                flex-direction: column;
                height: 100%;
                justify-content: center;

                .endpoint-container {
                    .endpoint-status-led {
                        height: $spacer * 4;
                    }
                }
            }

            .item-info {
                display: flex;
                flex: 1;
                flex-direction: column;
                // Required to have ellipsis text overflow on .name.
                min-width: 0;

                .name {
                    color: $grey-color-darkest;
                    flex: 1;
                    font-family: 'Rajdhani';
                    font-size: 1.2rem;
                    font-weight: 600;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                }

                .description {
                    color: $grey-color-light;
                    font-size: 0.9rem;
                }
            }
        }


        // Expanded mode. A Contact takes up the whole row.
        &.x-1 {
            .contact {
                width: 100%;

                .avatar-state {
                    align-items: center;
                    display: flex;
                    justify-content: left;
                    margin-right: $spacer / 2;
                    position: relative;

                    .placeholder {
                        @include icon-size($spacer * 6);
                        background: $grey-color-lightest;
                        border-radius: 50%;
                        color: $grey-color-light;
                        padding: $spacer / 2;
                    }
                }
            }
        }

        // An in-between display mode. A Contact takes up halve the row.
        &.x-2 {
            .contact {
                width: 50%;

                .avatar-state {
                    margin-right: $spacer / 2;
                    padding: $spacer / 4;
                }

                .endpoint-status-led {
                    height: $spacer * 4;
                    width: $spacer / 2;
                }
            }
        }

        // The most dense mode. A Contact takes up a third of the row.
        &.x-3 {
            .contact {
                width: calc(100% / 3);

                .avatar-state {
                    margin-right: $spacer / 2;

                    .endpoint-container {
                        .endpoint-status-led {
                            width: 3px;
                        }
                    }
                }

                .item-options {
                    flex-direction: column-reverse;
                    height: 100%;
                    justify-content: center;
                    margin-right: $spacer / 2;
                }
            }
        }
    }
}


.endpoint-status-icon {
    @include icon-size($spacer * 2);

    &.unregistered {
        path[pid='0'] {fill: $grey-color-light;}
        path[pid='1'] {fill: $grey-color-lightest;}
    }

    &.unavailable,
    &.no-results {
        path[pid='0'] {fill: $grey-color;}
        path[pid='1'] {fill: $white;}
    }

    &.busy {
        path[pid='0'] {fill: $red-color;}
        path[pid='1'] {fill: $white;}
    }

    &.available {
        path[pid='0'] {fill: $green-color;}
        path[pid='1'] {fill: $white;}
    }

    &.ringing {
        animation: ringing-svg 0.75s ease-in-out infinite;

        path[pid='0'] {fill: $red-color;}
        path[pid='1'] {fill: $white;}
    }
}

.endpoint-status-led {
    &.unregistered {background: $grey-color-light;}

    &.unavailable,
    &.no-results {
        &.unregistered {background: $grey-color;}
    }

    &.busy {background: $red-color;}

    &.available {background: $green-color;}

    &.ringing {
        animation: ringing-element 0.75s ease-in-out infinite;
        background-color: $red-color;
        box-shadow: rgba(saturate($red-color, 20%), 0.8) 0 0 10px;
    }
}
